<!DOCTYPE html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <title>Git Immersion - Brought to you by EdgeCase</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" media="screen" href="reset.css">
  <link rel="stylesheet" media="screen" href="screen.css">
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->  
  <!-- <script type="text/javascript" src="http://use.typekit.com/imu3wzf.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  <script type="text/javascript">
   var _gaq = _gaq || [];
   _gaq.push(['_setAccount', 'UA-1142510-7']);
   _gaq.push(['_trackPageview']);
   (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
   })();
  </script> -->
</head>

<body>
  <header>
    <a href="/" id="home_link">Git Immersion</a>
    <a href="http://edgecase.com" target="_blank" id="edgecase_link">Brought to you by EdgeCase</a>

    <nav>
      <%= nav_links(f, lab) %>
    </nav>
  </header>
  
  <div id="main_content">
    <%= lab_html %>
  </div>
  
  <div id="index">
    <h1>Labs Index</h1>
    <ul>
      <% labs.each do |l| -%>
        <li><a href="<%= l.filename %>"><span><%= l.number %>:</span> <%= l.name %></a></li>
      <% end -%>
    </ul>
  </div>
  
  <footer>
    <nav>
      <%= nav_links(f, lab) %>
    </nav>
  </footer>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script> 
  <script type="text/javascript">
  $(function() {
    $('.index_button a').click(function(e) {
      e.preventDefault();
      $('#index').fadeToggle(200);
    });
    
    $('#index ul').hover(
      function() { $(this).addClass('hover'); },
      function() { $(this).removeClass('hover'); }
    );
    
    $(document).click(function(e) {
      if (!$(e.target).closest('#index, .index_button').length) {
        $('#index').fadeOut(100);
      }
    }).keyup(function(e) {
      if(e.keyCode == 27) { $('#index').fadeOut(100); }
    });
  });
  </script>
</body>

</html>
